<div ng-repeat="category in categories" ng-if="(fields | searchParams | filter:{ categories: category }).length > 0">
	<h4>{{ category | translate }}</h1>
	<raw-input 
		property="field"
		vertical="true" 
		source-list="productCodes[field.name]"
		ng-repeat="field in fields | searchParams | filter:{ categories: category } | orderBy:'priority.search'"
		entity="query" 
		metadata="entityMetadata" 
		on-update="operations.updateField"
		mode="search"
		index="$index">
	</raw-input>
</div>