<h1><code ng:non-bindable="">rawInput</code>
<div><span class="hint">directive in module <code ng:non-bindable="">konga</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="konga-directive-page konga-directive-rawinput-page"><p>This is a directive for rendering a field into a form, using the <a href="#/api/Metadata.Field">field&#39;s metadata</a> defined. The <code>rawInput</code> does not have an appeareance itself, instead is <code>raw</code>, allowing multiple views - i.e. the specific field types - to use its features, yet keeping a particular appeareance defined within the view itself.</p>
<p><img src="/static/raw-input-init.png" width="50%" class="center"></p>
<h3 id="description_init/update">Init/Update</h3>
<p><code>update</code> is the process the <code>rawInput</code> uses to <code>map</code> the entity&#39;s field value into the <code>rawInput</code> <a href="#/api/konga.directive:rawInput#properties_value"><code>value</code></a> object. To achieve this the <code>rawInput</code> leverages the <a href="#/api/konga.filter:mapField"><code>mapField</code></a> filter.</p>
<h3 id="description_rendering">Rendering</h3>
<p>Once the values are loaded and the configuration interpreted, the <code>rawInput</code> proceeds to render your field. Depending on the <code>fieldType</code> assigned, the <code>rawInput</code> will adopt different appeareances.</p>
<p><img src="/static/raw-input-rendering.png" width="60%" class="center"></p>
<h4 id="description_rendering_complex">Complex <code>fieldTypes</code></h4>
<p>When a <code>fieldType</code> is marked as <a href="#/api/Metadata.FieldTypes#properties_complex"><code>COMPLEX</code></a>, insted of rendering the field itself, a subset of fields is taken from the inner entity, depending on the configuration given to the complex field. When the <code>rawInput</code> detects it&#39;s dealing with a <code>COMPLEX</code> input, it renders a view consisting on more nested <code>rawInputs</code>. Then each field is treatedly independently, but using as field - and entity - the inner value corresponding to the parent field.</p>
<h4 id="description_rendering_custom">Custom <code>fieldTypes</code></h4>
<p>Sometimes Konga&#39;s standard inputs would not be enough for your needs. When this comes along, you&#39;d find handy to create your own custom <code>fieldTypes</code> and configure your entity&#39;s fields to render using them. See the docs on <a href="#/api/Customisation.Custom%20views#properties_fields">custom fields</a>.</p>
<h3 id="description_value">Value <code>$watcher</code></h3>
<p><code>rawInput</code> has a built-in feature to detect changes on your fields, and apply field mapping immediately. Yes, this is a native feature of Angular - bi-directional binding on inputs - but it&#39;s normally applied to plain inputs. <code>rawInput</code>&#39;s  value <code>$watcher</code> initialise different <code>$watchers</code> depending on <a href="#/api/Metadata.Field">field&#39;s metadata</a>, so you always get notified when the real value needed for the entity is assigned to the <code>rawInput</code>. This allows you to render complex inputs who require an inner process to select the items - such as <a href="#/api/Metadata.FieldTypes#properties_select"><code>select</code></a> or <a href="#/api/Metadata.FieldTypes#properties_pick_list"><code>pick list</code></a> inputs. The value <code>$watcher</code> also handles casting, to give you the format and data type needed for the field.</p>
<p><img src="/static/raw-input-watcher.png" width="60%" class="center"></p>
<h3 id="description_data-validation">Data validation</h3>
<p><code>rawInput</code> also reads the metadata for data validation. When an input changes, it&#39;s value is mapped against several validation processes - e.g. required, patterns, lengths, ... - to verify it&#39;s data maintains integrity with the requirements. If that&#39;s so, field&#39;s marked as valid, and hence the form will be submitted - once all fields become valid. On the other hand, if any parameter does not match the needs, the <code>$validity</code> object is leveraged to append data irregularities, which are shown to the user via tooltips.</p>
<h3 id="description_manual-operation">Manual operation</h3>
<p>Sometimes you are handling data different than the standards, and native features won&#39;t satisfy the characteristics you need. To let you interact manually with the <code>rawInput</code>, from your custom code outside, you have several events that you can <code>$broadcast</code>, that will be listened by the <code>rawInput</code>, and apply manually the operations you want:</p>
<ul>
<li><strong>&#39;cascade_update&#39;</strong> (w/ <code>listenerName</code>) - Triggers a cascade downwards. This is launched on complex fields when a <a href="#/api/Metadata.ConfigurationParam#properties_cascade_update"><code>cascade</code></a> is defined. It applies queries on inner objects defined on the <code>cascade</code> expression.</li>
<li><strong>&#39;complex_update&#39;</strong> (w/ <code>listenerName</code>) - It&#39;s <code>$broadcasted</code> (and listened) when a complex <code>fieldType</code> changes. Its listener handles the <a href="#/api/Metadata.ConfigurationParam#properties_propagate_update"><code>propagation</code></a>.</li>
<li><strong>&#39;field-updated&#39;</strong> - Listened by linked fields, once the source field of its linking changes its value. Its listener executes the linking action on the target field.</li>
<li><strong>&#39;force-validation&#39;</strong> - Force the execution of a validation.</li>
<li><strong>&#39;locale-change&#39;</strong> - When language changes, the <code>rawInput</code> adapts its labels to the new language. While translation is autommatically engaged with the new language, Konga&#39;s <a href="#/api/konga.filter:translateComplex"><code>complex translation</code></a> needs this event to adapt.</li>
<li><strong>&#39;manually_change&#39;</strong> (w/ <code>listenerName</code>) - If you changed the value of your field and yet the <code>$watchers</code> weren&#39;t executed, you can manually force a change <code>$watcher</code> process. This is never needed on Standard types, but may happen on <a href="#/api/Customisation.Custom%20views#properties_fields"><code>custom</code></a>.</li>
<li><strong>&#39;reset-form&#39;</strong> - On search mode, when user requests a <code>reset</code> the <a href="#/api/konga.directive:searchPane"><code>searchPane</code></a> broadcasts an &#39;reset-form&#39; event. This event is listened on underneath <code>rawInputs</code> and their values are reset to defaults.</li>
<li><strong>&#39;reset&#39;</strong> (w/ <code>listenerName</code>) - This does the same as the <code>reset-form</code>, but it&#39;s targeted to a targeted field.</li>
<li><strong>&#39;reset_cascade&#39;</strong> (w/ <code>listenerName</code>) - Resets the cascade procedures applied to the affected fields.</li>
<li><strong>&#39;setup-cascade&#39;</strong> - Allows you to enable/disable cascades, to avoid infinite loops on certain operations (such as batch updating). On init, cascades are disabled to avoid this issue.</li>
<li><strong>&#39;setup-propagation&#39;</strong> - Allows you to enable/disable propagations, to avoid infinite loops on certain operations (such as batch updating). On init, propagations are disabled to avoid this issue.</li>
<li><strong>&#39;setup-watchers&#39;</strong> - Allows you to enable/disable value watchers, to avoid erroneous <code>$digest</code> loops.</li>
<li><strong>&#39;update&#39;</strong> (w/ <code>listenerName</code>) - Launch an update process on the field. This is useful if something changed the value of the entity itself, but outside the bounds of the <code>rawInput</code>. In this case, you need to notify the <code>rawInput</code> to adopt the new value within the rendered field.</li>
</ul>
<h4 id="description_manual-operation"><i class="fa fa-tag"></i> <strong><code>listenerName</code></strong></h4>
<p>Most of the events you saw above are used along a <code>listenerName</code>. This means the event name changes, suffixing it with a value obtained for reading <strong><code>field.owner</code>-<code>field.name</code></strong> from the metadata - e.g. for calling an <code>update</code> under a <code>vehicle</code> -&gt; <code>color</code> field, you should broadcast the event <code>update_vehicle_color</code>. With this method the event is completely mono-directional, and no extra process is launch upon its submittal.</p>
<h3 id="description_-component-catalog"><i class="fa fa-th-large"></i> Component catalog</h3>
<p>Here you have the full native <code>fieldType</code> catalog. You could build forms codelessly using any of these types. Click on anyone to see its particular details.</p>
 <div class="row">
   <div class="col-xs-12">
       Plain inputs
   </div>
   <div class="col-xs-4 col-md-3">
       Abc
   </div>
   <div class="col-xs-4 col-md-3">
       123
   </div>
   <div class="col-xs-4 col-md-3">
       Feb 29
   </div>
   <div class="col-xs-12">
       Reference inputs
   </div>
   <div class="col-xs-12">
       Complex inputs
   </div>
   <div class="col-xs-12">
       Custom inputs
   </div>
 </div></div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;raw-input
       property="{Object}"
       vertical="{*}"
       disabled
       set-values="{Function}"
       operations="{Object}"
       ng-required="{Boolean}"
       entity="{Object}"
       [root-entity="{Object}"]
       metadata="{Object}"
       [root-metadata="{Object}"]
       update-entity="{Function}"
       change-entity="{Function}"
       mode="{string}"
       creating="{Boolean}"
       parent-field="{Object}"
       [style="{Object}"]&gt;
&lt;/raw-input&gt;</pre>
<h3 id="usage_directive-info">Directive info</h3>
<div class="directive-info"><ul><li>This directive creates new scope.</li>
</ul>
</div>
<h4 id="usage_directive-info_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>property</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Field to modify with the input</p>
</div></td></tr><tr><td>vertical</td><td><a href="" class="label type-hint type-hint-object">*</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>TODO Document</p>
</div></td></tr><tr><td>disabled</td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines whether the field is disabled</p>
</div></td></tr><tr><td>setValues</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Function called to set up the values (for complex inputs)</p>
</div></td></tr><tr><td>operations</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Available operations for the directive</p>
</div></td></tr><tr><td>ngRequired</td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines whether the field is required</p>
</div></td></tr><tr><td>entity</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the real entity to manage</p>
</div></td></tr><tr><td>rootEntity <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the root entity (for complex fields)</p>
</div></td></tr><tr><td>metadata</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the metadata of the entity</p>
</div></td></tr><tr><td>rootMetadata <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the root metadata (for complex fields)</p>
</div></td></tr><tr><td>updateEntity</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Function to call when the field is updated to update the entity</p>
</div></td></tr><tr><td>changeEntity</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Function to call when the field is updated to control changes</p>
</div></td></tr><tr><td>mode</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the mode of the field (i.e. Search, Update). See <a href="#/api/kongaTools.Constants">constants</a></p>
</div></td></tr><tr><td>creating</td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines whether the field is in creation mode or in update</p>
</div></td></tr><tr><td>parentField</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>Defines the parent field (for complex fields)</p>
</div></td></tr><tr><td>style <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="konga-directive-page konga-directive-rawinput-page"><p>If set, it overrides the default styling options for the field</p>
</div></td></tr></tbody></table></div>
</div>
